<!DOCTYPE html SYSTEM "about:legacy-compat"><html lang="en-US" data-colors-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex">  <meta name="built-on" content="2024-01-02T14:18:01.5828911"><meta name="build-number" content="${buildNumber}">       <title>ZAIV-AHP | ZAiV Platform</title><script id="virtual-toc-data" type="application/json">[]</script><script id="topic-shortcuts" type="application/json"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.css" rel="stylesheet">   <link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><link rel="manifest" href="https://jetbrains.com/site.webmanifest"><link rel="mask-icon" href="https://jetbrains.com/safari-pinned-tab.svg" color="#000000"><meta name="msapplication-TileColor" content="#000000"/><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"/><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"/><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"/><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"/><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"/>  <meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="ZAIV-AHP | ZAiV Platform"/><meta property="og:description" content=""/><meta property="og:image" content=""/><meta property="og:site_name" content="ZAiV Platform Help"/><meta property="og:type" content="website"/><meta property="og:locale" content="en_US"/><meta property="og:url" content="zaiv-ahp.html"/><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="ZAIV-AHP | ZAiV Platform"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json"> { "@context": "http://schema.org", "@type": "WebPage", "@id": "zaiv-ahp.html#webpage", "url": "zaiv-ahp.html", "name": "ZAIV-AHP | ZAiV Platform", "description": "", "image": "", "inLanguage":"en-US" }</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json"> { "@type": "WebSite", "@id": "/#website", "url": "/", "name": "ZAiV Platform Help" }</script><!-- End Schema.org --></head>      <body data-id="ZAIV-AHP" data-main-title="ZAIV-AHP" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}"  data-template="article"  data-breadcrumbs=""  >   <div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>ZAiV Platform  Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="ZAIV-AHP"   id="ZAIV-AHP.topic">ZAIV-AHP</h1>  <div class="tabs" id="3533dd17_4"><div class="tabs__content" data-gtm="tab" id="3533dd17_5" data-title="개요"><p id="3533dd17_6">ZAiV-AHP는 PCI Interface 버전의 고성능 Edge AI Accelerator 보드입니다.</p><p id="3533dd17_7">최대 26 TOPS(Tera-Operations Per Second)의 고성능을 갖춘 Hailo-8&trade; 엣지 프로세서가 탑재되어 있습니다.다른 엣지 프로세서에 비해 성능은 높지만 크기가 작고 작동 온도가 낮은 것이 큰 장점입니다.</p><figure  id="3533dd17_8"><img alt="ZAiV-AHP" src="images/ZAiV-AHP_without_AP.png" title="ZAiV-AHP"  width="512" height="410"></figure><section class="procedure-steps"   ><h3 id="Specification" data-toc="Specification">Specification</h3 ><ul class="list" ><li class="list__item" id="3533dd17_9"><p>Processor: Hailo-8&trade; Edge Processor</p></li><li class="list__item" id="3533dd17_10"><p>Memory: Integreated Memory</p></li><li class="list__item" id="3533dd17_11"><p>TOPS: 26</p></li><li class="list__item" id="3533dd17_12"><p>Input Power: DC 5V/3A</p></li><li class="list__item" id="3533dd17_13"><p>Interfaces </p><ul class="list _ul" id="3533dd17_14"><li class="list__item" id="3533dd17_15"><p>1 x USB Type-C: 5V/3A Power</p></li><li class="list__item" id="3533dd17_16"><p>1 x RJ45(Gigabit Ethernet)</p></li><li class="list__item" id="3533dd17_17"><p>1 x Micro HDMI</p></li><li class="list__item" id="3533dd17_18"><p>2 x USB 2.0</p></li><li class="list__item" id="3533dd17_19"><p>1 x External 5V Fan Connector</p></li><li class="list__item" id="3533dd17_20"><p>1 x Micro 5pin Connector for UART</p></li></ul></li><li class="list__item" id="3533dd17_21"><p>Operation Temperature: 0℃ ~ 70℃</p></li></ul></section><section class="procedure-steps"   ><h3 id="physical-specification" data-toc="physical-specification">Physical Specification</h3 ><ul class="list" ><li class="list__item" id="3533dd17_22"><p>dimension </p><figure  id="3533dd17_23"><img alt="physical_specification" src="images/ZAiV-AHP_Dim.jpg" class="article__bordered-element" title="physical_specification"  width="1024" height="556"></figure></li></ul></section></div><div class="tabs__content" data-gtm="tab" id="3533dd17_24" data-title="설치"><p id="3533dd17_25">설치는 크게 학습환경 구성과 실행환경 구성으로 나누어집니다.</p><p id="3533dd17_26">처음 사용하는 경우 &quot;학습환경 구성 &gt; 컴파일환경 구성 &gt; 실행환경 구성&quot; 순서대로 준비 및 구성하도록 합니다.</p><dl id="3533dd17_27" data-style="title-left" data-title-width="medium"><dt id="3533dd17_28" data-expandable="false">학습환경 구성</dt><dd><p>YoloV5 학습을 위한 환경을 구성합니다.</p></dd><dt id="3533dd17_29" data-expandable="false">컴파일환경 구성</dt><dd><p>학습된 결과를 ZAiV에서 실행할 수 있도록 컴파일하는 환경을 구성합니다.</p></dd><dt id="3533dd17_30" data-expandable="false">실행환경 구성</dt><dd><p>학습된 결과를 실행할 수 있도록 환경을 구성합니다.</p></dd></dl><div class="tabs" id="3533dd17_31"><div class="tabs__content" data-gtm="tab" id="3533dd17_32" data-title="학습환경 구성"><section class="procedure-steps"   ><h3 id="OS Installation" data-toc="OS Installation">OS 설치</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_33"><p>Install Ubuntu </p><p id="3533dd17_34">Ubuntu 20.04 버전을 설치합니다.</p><p id="3533dd17_35">공식 <a href="https://ubuntu.com/tutorials/install-ubuntu-desktop#1-overview" id="3533dd17_36"   data-external="true" rel="noopener noreferrer" >설치가이드</a>를 참고해주세요.</p></li></ol></section><section class="procedure-steps"   ><h3 id="Install and configure anaconda" data-toc="Install and configure anaconda">아나콘다 설치 및 구성</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_37"><p>파일 준비 </p><ul class="list _ul" id="3533dd17_38"><li class="list__item" id="3533dd17_39"><p>Anaconda3-2021.05-Linux-x86_64.sh</p></li><li class="list__item" id="3533dd17_40"><p>yolov5_retraining.ipynb</p></li><li class="list__item" id="3533dd17_41"><p>data.yaml</p></li></ul></li><li class="list__item" id="3533dd17_42"><p>설치 </p><p id="3533dd17_43">실행된 가상환경에서 Yolov5 모델을 커스텀 데이터셋으로 학습하기위해 필요한 파일을 구성합니다.</p><p id="3533dd17_44">필요한 라이브러리 먼저 설치를 진행합니다.</p><ul class="list _ul" id="3533dd17_45"><li class="list__item" id="3533dd17_46"><p>의존성 설치 </p><div class="code-block" data-lang="bash"         >
                                        sudo apt-get install Net-tools git libxcb-xinerama0
                                    </div></li><li class="list__item" id="3533dd17_48"><p>Anaconda 설치 </p><div class="code-block" data-lang="bash"         >
                                        sudo bash Anaconda3-2021.05-Linux-x86_64.sh
                                    </div><ul class="list _ul" id="3533dd17_50"><li class="list__item" id="3533dd17_51"><p>라이선스 확인 </p><p id="3533dd17_52">라이선스 확인은 q를 눌러 넘기고 yes를 입력합니다.</p><figure  id="3533dd17_53"><img alt="Anaconda_install_license" src="images/Anaconda_install_license.png" class="article__bordered-element" title="Anaconda_install_license"  width="1024" height="679"></figure></li><li class="list__item" id="3533dd17_54"><p>저장경로 설정 </p><p id="3533dd17_55">저장 경로를 지정합니다. 기본 경로는 /root/anaconda3 입니다.</p><figure  id="3533dd17_56"><img alt="Anaconda_install_save_path" src="images/Anaconda_install_save_path.png" class="article__bordered-element" title="Anaconda_install_save_path"  width="1024" height="327"></figure></li><li class="list__item" id="3533dd17_57"><p>Root 계정 conda init 여부 </p><p id="3533dd17_58">Root 계정도 conda init을 할것인지 물어보는 부분이며 yes / no 상관없습니다.</p><figure  id="3533dd17_59"><img alt="Anaconda_install_conda_init" src="images/Anaconda_install_conda_init.png" class="article__bordered-element" title="Anaconda_install_conda_init"  width="1024" height="275"></figure></li></ul></li></ul></li><li class="list__item" id="3533dd17_60"><p>설정 </p><ul class="list _ul" id="3533dd17_61"><li class="list__item" id="3533dd17_62"><p>Path 지정 (conda 기본 경로이며 변경한 경우 변경된 path로 지정해야 합니다.) </p><div class="code-block" data-lang="bash"         >
                                        source /root/anaconda3/bin/activate
                                        conda init
                                        source ~/.bashrc
                                    </div></li><li class="list__item" id="3533dd17_64"><p>Conda 환경 활성화 (conda 환경을 자동으로 활성화하는 옵션입니다.) </p><div class="code-block" data-lang="bash"         >
                                        conda config &ndash;-set auto_activate_base {True or False}
                                        conda create -n yolov5 python=3.9
                                        conda activate yolov5
                                        conda install jupyter
                                        mkdir yolov5_workspace
                                    </div></li></ul></li><li class="list__item" id="3533dd17_66"><p>학습파일 복사 </p><p id="3533dd17_67">설정에서 만든 **yolov5_workspace** 폴더로 이동 후 아래 두 파일을 복사합니다.</p><ul class="list _ul" id="3533dd17_68"><li class="list__item" id="3533dd17_69"><p>yolov5_retraining.ipynb</p></li><li class="list__item" id="3533dd17_70"><p>data.yaml</p></li></ul><div class="code-block" data-lang="bash"         >
                                cd yolov5_workspace
                                # 파일들이 ~/Downloads에 있다고 가정
                                cp ~/Downloads/yolov5_retraining.ipynb .
                                cp ~/Downloads/data.yaml .
                            </div></li><li class="list__item" id="3533dd17_72"><p>실행 </p><div class="code-block" data-lang="bash"         >
                                Jupyter notebook
                            </div><figure  id="3533dd17_74"><img alt="Run_jupyter_notebook" src="images/Run_jupyter_notebook.png" class="article__bordered-element" title="Run_jupyter_notebook"  width="1024" height="375"></figure></li></ol></section><section class="procedure-steps"   ><h3 id="Install YOLOv5" data-toc="Install YOLOv5">Yolov5 설치</h3 ><p id="3533dd17_75">설치는 Jupyter 파일에 학습과 함께 구성되어 있습니다. &quot;시작하기&quot; 섹션의 학습가이드와 함께 안내합니다.</p><ol class="list _decimal"></ol></section></div><div class="tabs__content" data-gtm="tab" id="3533dd17_76" data-title="컴파일환경 구성"><section class="procedure-steps"   ><h3 id="Docker_Installation" data-toc="Docker_Installation">Docker 설치</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_77"><p>Terminal 실행</p></li><li class="list__item" id="3533dd17_78"><p>APT repository 업데이트 </p><div class="code-block" data-lang="bash"         >
                                sudo apt-get update
                            </div></li><li class="list__item" id="3533dd17_80"><p>Docker's official GPG key 추가 </p><div class="code-block" data-lang="bash"         >
                                sudo apt-get install ca-certificates curl gnupg
                                sudo install -m 0755 -d /etc/apt/keyrings
                                curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg
                                sudo chmod a+r /etc/apt/keyrings/docker.gpg
                            </div></li><li class="list__item" id="3533dd17_82"><p>Docker repository를 APT sources에 추가 </p><div class="code-block" data-lang="bash"         >
                                echo &quot;deb [arch=&quot;$(dpkg --print-architecture)&quot; signed-by=/etc/apt/keyrings/docker.gpg] https://download.docker.com/linux/ubuntu &quot;$(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;)&quot; stable&quot; | sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null
                                sudo apt-get update
                            </div></li><li class="list__item" id="3533dd17_84"><p>Docker 설치 명령어 </p><div class="code-block" data-lang="bash"         >
                                sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin
                            </div></li><li class="list__item" id="3533dd17_86"><p>Docker 테스트 </p><div class="code-block" data-lang="bash"         >
                                sudo docker images
                            </div></li></ol></section><section class="procedure-steps"   ><h3 id="ConfigureDocker" data-toc="ConfigureDocker">Docker 환경 설정</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_88"><p>Terminal 실행</p></li><li class="list__item" id="3533dd17_89"><p>Docker 권한 부여 </p><div class="code-block" data-lang="bash"         >
                                sudo usermod -aG docker ${USER}

                                # Docker.sock permission 오류가 나는 경우 아래 명령 입력 후, 계정 로그아웃 및 재로그인 필요
                                sudo chmod 666 /var/run/docker.sock
                            </div></li><li class="list__item" id="3533dd17_91"><p>GPU가 있는 경우, GPU 가상화를 위한 nvidia-docker2, nvidia-container-toolkit 설치 </p><div class="code-block" data-lang="bash"         >
                                distribution=$(. /etc/os-release;echo $ID$VERSION_ID) &amp;&amp; curl -s -L https://nvidia.github.io/nvidia-docker/gpgkey | sudo apt-key add - &amp;&amp; curl -s -L https://nvidia.github.io/nvidia-docker/$distribution/nvidia-docker.list | sudo tee /etc/apt/sources.list.d/nvidia-docker.list

                                sudo apt-get update
                                sudo apt-get install -y nvidia-docker2 nvidia-container-toolkit
                                sudo systemctl restart docker
                            </div></li></ol></section><section class="procedure-steps"   ><h3 id="Install Hailo SW Suite" data-toc="Install Hailo SW Suite">Hailo SW Suite 설치</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_93"><p>Terminal 실행</p></li><li class="list__item" id="3533dd17_94"><p>압축해제 (파일은 상단 다운로드 탭에 링크되어 있으며, 용량이 약 9GB 정도 되므로, 사양에 따라 압축해제 시간이 오래 걸릴 수 있습니다.) </p><div class="code-block" data-lang="bash"         >
                                unzip hailo_sw_suite_2023-07.1_docker.zip
                            </div></li><li class="list__item" id="3533dd17_96"><p>Docker_run.sh 실행 </p><div class="code-block" data-lang="bash"         >
                                ./hailo_sw_suite_docker_run.sh
                            </div></li><li class="list__item" id="3533dd17_98"><p>Docker 재접속 명령어 </p><div class="code-block" data-lang="bash"         >
                                ./hailo_sw_suite_docker_run.sh --resume
                            </div></li></ol></section></div><div class="tabs__content" data-gtm="tab" id="3533dd17_100" data-title="실행환경 구성"><div class="tabs" id="3533dd17_101"><div class="tabs__content" data-gtm="tab" id="3533dd17_102" data-title="사전 빌드 이미지 설치"><section class="procedure-steps"   ><h3 id="Prebuild - Raspberry PI CM4" data-toc="Prebuild - Raspberry PI CM4">Raspberry PI4 CM4</h3 ><ul class="list" ><li class="list__item" id="3533dd17_103"><p>MicroSD Reader와 32GB microSD Card를 준비합니다.</p></li><li class="list__item" id="3533dd17_104"><p>RaspBerry PI Imager와 사전 설치 이미지(기본 환경 구성본) 및 Raspberry Pi Imager를 상단 다운로드 탭에서 다운로드 합니다.</p></li><li class="list__item" id="3533dd17_105"><p>Raspberry Pi Imager를 설치합니다.</p></li><li class="list__item" id="3533dd17_106"><p>Image를 write합니다. </p><p id="3533dd17_107">- Raspberry PI Imager 실행</p><p id="3533dd17_108">- 운영체제 버튼 클릭 &gt; 사용자 정의 사용 &gt; 파일 선택 다이얼로그에서 다운로드받은 이미지 선택</p><p id="3533dd17_109">- 저장소 버튼 클릭 &gt; PC에 연결한 Micro SD카드 volume을 선택.</p><p id="3533dd17_110">- 쓰기</p></li></ul></section></div><div class="tabs__content" data-gtm="tab" id="3533dd17_111" data-title="신규 설치(기본)"><section class="procedure-steps"   ><h3 id="Install Running OS" data-toc="Install Running OS">OS 설치</h3 ><ul class="list" ><li class="list__item" id="3533dd17_112"><p>Raspberry PI 4 CM4 </p><ul class="list _ul" id="3533dd17_113"><li class="list__item" id="3533dd17_114"><p>이미지 준비 </p><p id="3533dd17_115">Raspberry PI Imager(<a href="https://downloads.raspberrypi.org/imager/imager_latest.exe" id="3533dd17_116"   data-external="true" rel="noopener noreferrer" >x86</a>, <a href="https://downloads.raspberrypi.org/imager/imager_latest.dmg" id="3533dd17_117"   data-external="true" rel="noopener noreferrer" >MacOS</a>, <a href="https://downloads.raspberrypi.org/imager/imager_latest_amd64.deb" id="3533dd17_118"   data-external="true" rel="noopener noreferrer" >Ubuntu</a> )와 <a href="http://downloads.raspberrypi.org/raspios_arm64/images/raspios_arm64-2021-05-28/2021-05-07-raspios-buster-arm64.zip" id="3533dd17_119"   data-external="true" rel="noopener noreferrer" >RaspbianOS Buster OS Image</a>를 준비합니다.</p></li><li class="list__item" id="3533dd17_120"><p>설치 </p><p id="3533dd17_121">Raspberry PI Imager를 설치안내에 따라 설치합니다.</p></li><li class="list__item" id="3533dd17_122"><p>Micro SD 연결. </p><p id="3533dd17_123">MicroSD카드를 Reader기에 결합 후 PC에 연결합니다.</p></li><li class="list__item" id="3533dd17_124"><p>이미지 Flashing </p><ul class="list _ul" id="3533dd17_125"><li class="list__item" id="3533dd17_126"><p>Raspberry PI Imager 실행</p></li><li class="list__item" id="3533dd17_127"><p>운영체제 버튼 클릭 &gt; 사용자 정의 사용 &gt; 파일 선택 다이얼로그에서 다운로드받은 이미지 선택</p></li><li class="list__item" id="3533dd17_128"><p>저장소 버튼 클릭 &gt; PC에 연결한 Micro SD카드 volume을 선택</p></li><li class="list__item" id="3533dd17_129"><p>쓰기</p></li></ul></li></ul></li></ul></section><section class="procedure-steps"   ><h3 id="Connect_and_booting" data-toc="Connect_and_booting">연결 및 부팅(공통)</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_130"><p>ZAiV-AHP에 Raspberry PI CM4 또는 Raxda CM5를 연결합니다.</p></li><li class="list__item" id="3533dd17_131"><p>이미지가 설치된 Micro SD카드를 Micro SD카드 슬롯에 삽입합니다.</p></li><li class="list__item" id="3533dd17_132"><p>모니터의 전원을 연결하고 모니터와 장치 간에 HDMI 케이블을 통해 연결합니다.</p></li><li class="list__item" id="3533dd17_133"><p>USB 키보드/마우스를 연결합니다.</p></li><li class="list__item" id="3533dd17_134"><p>인터넷이 가능한 Etherent Cable을 RJ45 포트에 연결합니다.</p></li><li class="list__item" id="3533dd17_135"><p>USB Webcam을 연결합니다.</p></li><li class="list__item" id="3533dd17_136"><p>마지막으로 전원을 인가하여 장치를 부팅합니다.</p></li></ol></section><section class="procedure-steps"   ><h3 id="Install Programs" data-toc="Install Programs">프로그램 설치(공통)</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_137"><p>종속성 설치 </p><div class="code-block" data-lang="bash"         >
                                        sudo apt-get update -y &amp;&amp; \
                                        sudo apt-get upgrade -y &amp;&amp; \
                                        sudo apt-get dist-upgrade -y &amp;&amp; \
                                        sudo apt-get update -y &amp;&amp; \
                                        sudo apt-get upgrade -y &amp;&amp; \
                                        sudo apt-get dist-upgrade -y &amp;&amp; \
                                        sudo apt-get install build-essential gawk gcc g++ gfortran git texinfo bison libncurses-dev -y &amp;&amp; \
                                        sudo add-apt-repository ppa:ubuntu-toolchain-r/test -y
                                    </div></li><li class="list__item" id="3533dd17_139"><p>GCC 설치 (라즈베리 파이의 경우만 따로 설치) </p><ul class="list _ul" id="3533dd17_140"><li class="list__item" id="3533dd17_141"><p>파일 다운로드 </p><p id="3533dd17_142">상단 다운로드 탭의 링크를 통해서 다운로드받거나, <a href="https://sourceforge.net/projects/raspberry-pi-cross-compilers/files/Bonus%20Raspberry%20Pi%20GCC%2064-Bit%20Toolchains/Raspberry%20Pi%20GCC%2064-Bit%20Native-Compiler%20Toolchains/Buster/GCC%209.4.0/native-gcc-9.4.0-pi_64.tar.gz/download" id="3533dd17_143"   data-external="true" rel="noopener noreferrer" >링크</a>를 통해 다운로드 받습니다.</p></li><li class="list__item" id="3533dd17_144"><p>압축해제 </p><div class="code-block" data-lang="bash"         >
                                                tar xf native-gcc-9.4.0-pi_64.tar.gz
                                            </div></li><li class="list__item" id="3533dd17_146"><p>복사 </p><div class="code-block" data-lang="bash"         >
                                                sudo mv native-pi-gcc-9.4.0-64 /opt
                                            </div></li><li class="list__item" id="3533dd17_148"><p>Path 설정 </p><div class="code-block" data-lang="bash"         >
                                                echo 'export PATH=/opt/native-pi-gcc-9.4.0-64/bin:$PATH' &gt;&gt; .profile
                                                echo 'export LD_LIBRARY_PATH=/opt/native-pi-gcc-9.4.0-64/lib:$LD_LIBRARY_PATH' &gt;&gt; .profile
                                                source .profile
                                            </div></li><li class="list__item" id="3533dd17_150"><p>Important Symlinks 설정 </p><div class="code-block" data-lang="bash"         >
                                                sudo ln -sf /usr/include/aarch64-linux-gnu/asm/* /usr/include/asm
                                                sudo ln -sf /usr/include/aarch64-linux-gnu/gnu/* /usr/include/gnu
                                                sudo ln -sf /usr/include/aarch64-linux-gnu/bits/* /usr/include/bits
                                                sudo ln -sf /usr/include/aarch64-linux-gnu/sys/* /usr/include/sys
                                                sudo ln -sf /usr/include/aarch64-linux-gnu/openssl/* /usr/include/openssl
                                                sudo ln -sf /usr/lib/aarch64-linux-gnu/crtn.o /usr/lib/crtn.o
                                                sudo ln -sf /usr/lib/aarch64-linux-gnu/crt1.o /usr/lib/crt1.o
                                                sudo ln -sf /usr/lib/aarch64-linux-gnu/crti.o /usr/lib/crti.o
                                                sudo ln -s /opt/native-pi-gcc-9.4.0-64/bin/aarch64-linux-gnu-g++-9.4.0   /opt/native-pi-gcc-9.4.0-64/bin/g++-9
                                                sudo ln -s /opt/native-pi-gcc-9.4.0-64/bin/aarch64-linux-gnu-gcc-9.4.0   /opt/native-pi-gcc-9.4.0-64/bin/gcc-9
                                            </div></li><li class="list__item" id="3533dd17_152"><p>GCC 버전 추가 </p><div class="code-block" data-lang="bash"         >
                                                sudo update-alternatives --install /usr/bin/gcc gcc /opt/native-pi-gcc-9.4.0-64/bin/gcc-9 1 --slave /usr/bin/g++ g++ /opt/native-pi-gcc-9.4.0-64/bin/g++-9
                                            </div></li><li class="list__item" id="3533dd17_154"><p>GCC 버전 추가 </p><div class="code-block" data-lang="bash"         >
                                                sudo update-alternatives --config gcc
                                            </div></li></ul></li><li class="list__item" id="3533dd17_156"><p>OpenCV 설치 </p><ul class="list _ul" id="3533dd17_157"><li class="list__item" id="3533dd17_158"><p>OpenCV Dev 설치 </p><div class="code-block" data-lang="bash"         >
                                                sudo apt-get install -y libopencv-dev
                                            </div></li><li class="list__item" id="3533dd17_160"><p>arm (raspberry pi) </p><div class="code-block" data-lang="bash"         >
                                                # 기존 라이브러리 확인 위한 패키지 설치
                                                sudo apt-get install pkg-config -y

                                                # 기존 라이브러리 확인
                                                pkg-config --modversion opencv

                                                # 기존 라이브러리가 있으면 삭제
                                                sudo apt-get purge libopencv* python-opencv -y
                                                sudo apt-get autoremove -y

                                                # 시스템 업데이트
                                                sudo apt install software-properties-common
                                                sudo add-apt-repository ppa:deadsnakes/ppa
                                                sudo apt update
                                                sudo apt upgrade

                                                # 빌드 툴 및 의존라이브러리 설치
                                                sudo apt-get install build-essential cmake libjpeg-dev libtiff5-dev libpng-dev libavcodec-dev libavformat-dev libswscale-dev libxvidcore-dev libx264-dev libxine2-dev libv4l-dev v4l-utils libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev libgtk2.0-dev mesa-utils libgl1-mesa-dri libgtkgl2.0-dev libgtkglext1-dev libatlas-base-dev gfortran libeigen3-dev python3-dev python3-numpy -y

                                                # 작업 디렉토리 생성
                                                mkdir opencv
                                                cd opencv

                                                # 소스코드 다운로드
                                                wget -O opencv.zip https://github.com/opencv/opencv/archive/3.4.3.zip
                                                wget -O opencv_contrib.zip https://github.com/opencv/opencv_contrib/archive/3.4.3.zip

                                                # unzip
                                                unzip opencv.zip
                                                unzip opencv_contrib.zip

                                                # 빌드
                                                cd opencv-3.4.3
                                                mkdir build
                                                cd build

                                                # cmake 빌드환경 구성
                                                cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -D WITH_TBB=OFF -D WITH_IPP=OFF -D WITH_1394=OFF -D BUILD_WITH_DEBUG_INFO=OFF -D BUILD_DOCS=OFF -D INSTALL_C_EXAMPLES=ON -D INSTALL_PYTHON_EXAMPLES=ON -D BUILD_EXAMPLES=OFF -D BUILD_TESTS=OFF -D BUILD_PERF_TESTS=OFF -D ENABLE_NEON=ON -D ENABLE_VFPV3=ON -D WITH_QT=OFF -D WITH_GTK=ON -D WITH_OPENGL=ON -D OPENCV_ENABLE_NONFREE=ON -D OPENCV_EXTRA_MODULES_PATH=~/Downloads/opencv/opencv_contrib-3.4.3/modules -D WITH_V4L=ON -D WITH_FFMPEG=ON -D WITH_XINE=ON -D ENABLE_PRECOMPILED_HEADERS=OFF -D BUILD_NEW_PYTHON_SUPPORT=ON -D OPENCV_GENERATE_PKGCONFIG=ON -D ENABLE_CXX11=ON ../

                                                # 스왑설정
                                                # 메모리 부족을 막기 위해 스왑사이즈 설정(CONF_SWAPSIZE를 100-&gt;1024 로 설정)
                                                sudo vi /etc/dphys-swapfile

                                                # 스왑영역 확인
                                                free
                                                sudo /etc/init.d/dphys-swapfile restart
                                                free

                                                # 빌드 (약 한시간 걸림)
                                                time make -j4

                                                # 설치
                                                sudo make install

                                                # 확인
                                                cat /etc/ld.so.conf.d/*

                                                # 확인 시 혹시 'usr/local/lib' 부분이 없다면 아래 명령 입력
                                                sudo sh -c 'echo 'usr/local/lib' /etc/ld.so.conf.d/opencv.conf'

                                                # 설정 로드
                                                sudo ldconfig

                                                # 스왑 영역 복구(CONF_SWAPSIZE를 1024-&gt;100 으로 설정)
                                                sudo vi /etc/dphys-swapfile

                                                # 스왑영역 확인
                                                sudo /etc/init.d/dphys-swapfile restart
                                                free

                                                # 실행 확인
                                                pkg-config --modversion opencv
                                            </div></li></ul></li><li class="list__item" id="3533dd17_162"><p>RapidJSON 설치 </p><ul class="list _ul" id="3533dd17_163"><li class="list__item" id="3533dd17_164"><p>공통 </p><div class="code-block" data-lang="bash"         >
                                                git clone https://github.com/Tencent/rapidjson.git
                                                cd rapidjson
                                                mkdir build
                                                cd build
                                                cmake ..
                                                sudo make install -j4
                                            </div></li></ul></li><li class="list__item" id="3533dd17_166"><p>HailoRT 설치 </p><ul class="list _ul" id="3533dd17_167"><li class="list__item" id="3533dd17_168"><p>arm (raspberry pi) </p><div class="code-block" data-lang="bash"         >
                                                sudo dpkg -i hailort_4.12.0_arm64.deb
                                            </div></li><li class="list__item" id="3533dd17_170"><p>amd64 (pc) </p><div class="code-block" data-lang="bash"         >
                                                sudo dpkg -i hailort_4.13.0_amd64.deb
                                            </div></li></ul></li><li class="list__item" id="3533dd17_172"><p>Tappas 의존성 패키기 설치 (사용 시 설치) </p><ul class="list _ul" id="3533dd17_173"><li class="list__item" id="3533dd17_174"><p>Raspbian OS</p></li><li class="list__item" id="3533dd17_176"><p>Ubuntu</p></li></ul></li><li class="list__item" id="3533dd17_178"><p>GStreamer 설치 </p><div class="code-block" data-lang="bash"         >
                                        sudo apt-get install -y libcairo2-dev libgirepository1.0-dev libgstreamer1.0-dev libgstreamer-plugins-base1.0-dev libgstreamer-plugins-bad1.0-dev gstreamer1.0-plugins-base gstreamer1.0-plugins-good gstreamer1.0-plugins-bad gstreamer1.0-plugins-ugly gstreamer1.0-libav gstreamer1.0-tools gstreamer1.0-x gstreamer1.0-alsa gstreamer1.0-gl gstreamer1.0-gtk3 gstreamer1.0-qt5 gstreamer1.0-pulseaudio python-gi-dev
                                    </div></li><li class="list__item" id="3533dd17_180"><p>Tappas 설치 (사용 시 설치) </p><div class="code-block" data-lang="bash"         >
                                        # &quot;~/Downloads&quot;에 파일이 있다고 가정.
                                        cd ~/Downloads
                                        unzip tappas_3.23.0_linux_installer.zip
                                        cd tappas_v3.23.0
                                        ./install.sh --skip-hailort --target-platform rpi
                                    </div></li></ol></section></div></div></div></div></div><div class="tabs__content" data-gtm="tab" id="3533dd17_182" data-title="시작하기"><div class="tabs" id="3533dd17_183"><div class="tabs__content" data-gtm="tab" id="3533dd17_184" data-title="학습"><section class="procedure-steps"   ><h3 id="Getting Started(Training) - Running Jupyter" data-toc="Getting Started(Training) - Running Jupyter">Jupyter Notebook 실행</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_185"><p>터미널 실행</p></li><li class="list__item" id="3533dd17_186"><p>작업 폴더로 이동 </p><div class="code-block" data-lang="bash"         >
                               # 설치 시 생성한 폴더로 이동
                               cd ~/yolov5_workspace
                           </div></li><li class="list__item" id="3533dd17_188"><p>notebook 실행 </p><div class="code-block" data-lang="bash"         >
                               Jupyter notebook
                           </div><figure  id="3533dd17_190"><img alt="Run_jupyter_notebook" src="images/Run_jupyter_notebook.png" class="article__bordered-element" title="Run_jupyter_notebook"  width="1024" height="375"></figure></li></ol></section><section class="procedure-steps"   ><h3 id="Getting Started(Training) - Setup Training" data-toc="Getting Started(Training) - Setup Training">학습 준비</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_191"><p>Notebook 파일 실행 </p><p id="3533dd17_192">yolov5_retraining.ipynb 파일을 더블클릭 하여 실행합니다.</p><p id="3533dd17_193">진행과정별로 구성되어 있으므로, 설명에 따라 진행하면 학습을 진행할 수 있습니다.</p></li><li class="list__item" id="3533dd17_194"><p>YoloV5 설치 </p><figure  id="3533dd17_195"><img alt="YoloV5_Jupyter_1" src="images/YoloV5_Jupyter_1.png" class="article__bordered-element" title="YoloV5_Jupyter_1"  width="1024" height="239"></figure></li><li class="list__item" id="3533dd17_196"><p>Image 파일 저장폴더 생성 </p><figure  id="3533dd17_197"><img alt="YoloV5_Jupyter_2" src="images/YoloV5_Jupyter_2.png" class="article__bordered-element" title="YoloV5_Jupyter_2"  width="1024" height="754"></figure></li><li class="list__item" id="3533dd17_198"><p>이미지 라벨링 </p><p id="3533dd17_199">라벨링 프로그램 실행</p><figure  id="3533dd17_200"><img alt="YoloV5_Jupyter_3" src="images/YoloV5_Jupyter_3.png" class="article__bordered-element" title="YoloV5_Jupyter_3"  width="1024" height="171"></figure><figure  id="3533dd17_201"><img alt="YoloV5_Jupyter_4" src="images/YoloV5_Jupyter_4.png" class="article__bordered-element" title="YoloV5_Jupyter_4"  width="1024" height="443"></figure><p id="3533dd17_202">학습할 이미지 파일들을 이전에 생성한 TrainDataset/train/images 경로로 옮깁니다.</p><p id="3533dd17_203">Open Dir 버튼을 눌러서 TrainDataset/train/images 경로로 지정하면 이미지들을 모두 열고 Change Save Dir 버튼을 눌러서 TrainDataset/train/labels 경로로 지정합니다.</p><p id="3533dd17_204">이미지를 열어 박스를 그리면 라벨이름을 지정하는 창이 출력되며 라벨이름은 저장되어 선택 리스트에 표시됩니다. - 라벨작업을 할 때 마다 저장합니다.</p><p id="3533dd17_205">라벨링이 종료되면 train 데이터의 10%정도를 vaild 폴더로 이동합니다.</p><div class="code-block" data-lang="bash"         >
                               TrainDataset/train/images 10% =&gt; TrainDataset/vaild/images
                               TrainDataset/train/labels 10% =&gt; TrainDataset/vaild/labels
                               TrainDataset/train/images 10% =&gt; TrainDataset/test/images
                           </div><p id="3533dd17_207">마지막으로 노트북 파일과 같이 옮겼던data.yaml 파일을 열어서 수정합니다.</p><p id="3533dd17_208">각각의 데이터 셋 경로를 지정하고, 라벨링툴을 이용해서 생성된 classes.txt파일을 참조하여 순서대로 지정하면 됩니다.</p><figure  id="3533dd17_209"><img alt="YoloV5_Jupyter_5" src="images/YoloV5_Jupyter_5.png" class="article__bordered-element" title="YoloV5_Jupyter_5"  width="1024" height="574"></figure></li></ol></section><section class="procedure-steps"   ><h3 id="Getting Started(Training) - Training" data-toc="Getting Started(Training) - Training">학습</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_210"><p>학습 시작 </p><figure  id="3533dd17_211"><img alt="YoloV5_Jupyter_6" src="images/YoloV5_Jupyter_6.png" class="article__bordered-element" title="YoloV5_Jupyter_6"  width="1024" height="265"></figure><ul class="list _ul" id="3533dd17_212"><li class="list__item" id="3533dd17_213"><p>Train.py 의 arguments </p><ul class="list _ul" id="3533dd17_214"><li class="list__item" id="3533dd17_215"><p>img=이미지 사이즈</p></li><li class="list__item" id="3533dd17_216"><p>batch=학습 이미지 단</p></li><li class="list__item" id="3533dd17_217"><p>epochs=학습 반복 횟수</p></li><li class="list__item" id="3533dd17_218"><p>data=데이터 셋 정보가 있는 yaml 파일 경로</p></li><li class="list__item" id="3533dd17_219"><p>weights=가중치 파일</p></li><li class="list__item" id="3533dd17_220"><p>cache=캐시메모리 사용 여부입니다.</p></li></ul></li></ul></li><li class="list__item" id="3533dd17_221"><p>학습 결과 </p><p id="3533dd17_222">학습이 완료되면 runs/train/exp 경로에 Loss가 가장 적었던 best모델(best.pt)이 저장됩니다.</p><figure  id="3533dd17_223"><img alt="YoloV5_Jupyter_7" src="images/YoloV5_Jupyter_7.png" class="article__bordered-element" title="YoloV5_Jupyter_7"  width="1024" height="404"></figure></li><li class="list__item" id="3533dd17_224"><p>학습 결과 검증 </p><p id="3533dd17_225">Tensorboard를 이용하여 모델이 학습된 세부 내용들을 확인할 수 있고 detect.py를 이용하여 학습된 모델로 추론 결과를 테스트할 수 있습니다.</p><figure  id="3533dd17_226"><img alt="YoloV5_Jupyter_8" src="images/YoloV5_Jupyter_8.png" class="article__bordered-element" title="YoloV5_Jupyter_8"  width="1024" height="152"></figure></li><li class="list__item" id="3533dd17_227"><p>학습된 모델을 ONNX로 내보내기 </p><p id="3533dd17_228">Export.py를 이용해 onnx파일로 저장해주면 커스텀 데이터 셋으로 모델 학습이 완료되었습니다. Export된 onnx파일은 ZAiV Board에 맞게 컴파일 시 사용됩니다.</p><figure  id="3533dd17_229"><img alt="YoloV5_Jupyter_9" src="images/YoloV5_Jupyter_9.png" class="article__bordered-element" title="YoloV5_Jupyter_9"  width="1024" height="447"></figure></li></ol></section></div><div class="tabs__content" data-gtm="tab" id="3533dd17_230" data-title="컴파일"><section class="procedure-steps"   ><h3 id="Started DFC(Setting)" data-toc="Started DFC(Setting)">DFC 준비</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_231"><p>폴더 구조 생성 </p><ul class="list _ul" id="3533dd17_232"><li class="list__item" id="3533dd17_233"><p>컴파일환경 구성에서 설치한 Hailo SW Suite 도커환경에는 ./hailo_sw_suite_docker_run.sh를 실행한 경우 폴더가 하나 생깁니다. </p><dl id="3533dd17_234" data-style="title-left" data-title-width="narrow"><dt id="3533dd17_235" data-expandable="false">shared_with_docker 폴더</dt><dd><p>도커 내의 /local/shared_with_docker 디렉토리와 공유된 디렉토리</p></dd></dl></li><li class="list__item" id="3533dd17_236"><p>해당 디렉토리로 다운로드 탭의 withus_dfc.zip을 다운로드하여 unzip 합니다. </p><div class="code-block" data-lang="bash"         >
                                       unzip withus_dfc.zip
                                   </div></li></ul></li><li class="list__item" id="3533dd17_238"><p>파일 준비 </p><p id="3533dd17_239">압축 해제한 파일 내의 설정들을 수정 및 준비합니다.</p><dl id="3533dd17_240" data-style="title-left" data-title-width="narrow"><dt id="3533dd17_241" data-expandable="false">dataset 폴더</dt><dd><p>calibration용 이미지 폴더</p></dd><dt id="3533dd17_242" data-expandable="false">har, hef, svg 폴더</dt><dd><p>DFC 산출물 저장 폴더</p></dd><dt id="3533dd17_243" data-expandable="false">*.onnx</dt><dd><p>이 경로로 변환할 onnx파일을 이동 필요</p></dd><dt id="3533dd17_244" data-expandable="false">nms_config_yolov5_sign.json</dt><dd><p>nms를 위한 하이퍼파라미터 설정</p></dd><dt id="3533dd17_245" data-expandable="false">DFC.ipynb</dt><dd><p>Compile을 위한 노트북 파일</p></dd></dl><ul class="list _ul" id="3533dd17_246"><li class="list__item" id="3533dd17_247"><p>nms_config_yolov5_sign 작성 참고 </p><ul class="list _ul" id="3533dd17_248"><li class="list__item" id="3533dd17_249"><p>반드시 classes 개수에 따른 수정이 필요합니다.</p></li><li class="list__item" id="3533dd17_250"><p>NMS 알고리즘에 적용될 임계값 (nms_scores, nms_iou) 들은 성능 평가에 영향을 줍니다. (필요한 경우 변경해보며 테스트합니다.)</p></li><li class="list__item" id="3533dd17_251"><p>Image_dims는 입력 shape 사이즈 이므로 학습 shape 사이즈와 동일하게 설정합니다.</p></li><li class="list__item" id="3533dd17_252"><p>Bbox_decoders의 encoded_layer는 파싱 후 visualizer를 실행하여 확인할 수 있는 .svg 파일에서의 output layey 이름입니다. (작성된 기준 모델은 yolov5n.pt 이며 모델이 다르면 다를 수 있습니다.)</p></li><li class="list__item" id="3533dd17_253"><p>model_optimization_config 내용을 수정하면 calibration 과정이 변경됩니다.</p></li><li class="list__item" id="3533dd17_254"><p>가이드는 매우 간소화 되어있으며 기본값은 batch_size=2, calibset_size=64입니다.</p></li><li class="list__item" id="3533dd17_255"><p>하이퍼파라미터 설정 </p><ul class="list _ul" id="3533dd17_256"><li class="list__item" id="3533dd17_257"><p>Nms_scores_th : nms 에서 사용되는 임계값</p></li><li class="list__item" id="3533dd17_258"><p>nms_iou_th : iou를 계산할 임계값</p></li><li class="list__item" id="3533dd17_259"><p>image_dims : 입력 shape</p></li><li class="list__item" id="3533dd17_260"><p>classes : 클래스 개수</p></li><li class="list__item" id="3533dd17_261"><p>bbox_decoders -&gt; encoded_layer : 파싱한 후의 EndNode name을 입력</p></li></ul></li></ul></li></ul></li></ol></section><section class="procedure-steps"   ><h3 id="Getting Started(Compile) - Run Docker" data-toc="Getting Started(Compile) - Run Docker">Docker 실행</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_262"><p>Run Docker </p><ul class="list _ul" id="3533dd17_263"><li class="list__item" id="3533dd17_264"><p>Docker DFC 실행 </p><div class="code-block" data-lang="bash"         >
                                       ./hailo_sw_suite_docker_run.sh
                                   </div></li><li class="list__item" id="3533dd17_266"><p>Docker 재접속 </p><div class="code-block" data-lang="bash"         >
                                       ./hailo_sw_suite_docker_run.sh --resume
                                   </div></li></ul></li></ol></section><section class="procedure-steps"   ><h3 id="Getting Started(Compile) - Run Docker" data-toc="Getting Started(Compile) - Run Docker">Compile 진행 (도커)</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_268"><p>컴파일 준비 </p><p id="3533dd17_269">shared 파일 확인</p><div class="code-block" data-lang="bash"         >
                               cd /local/shared_with_docker
                               ls
                           </div><p id="3533dd17_271">로컬에 압축해제 후 설정한 파일들이 잘 공유되어 있는지 확인해줍니다.</p></li><li class="list__item" id="3533dd17_272"><p>노트북 파일 복사 </p><p id="3533dd17_273">압축 해제한 파일에 있는 DFC.ipynb 파일을 지정된 경로로 이동합니다.</p><div class="code-block" data-lang="bash"         >
                               sudo cp /local/workspace/DFC.ipynb /local/workspace/hailo_virtualenv/lib/python3.8/site-packages/hailo_tutorials/notebooks/DFC.ipynb
                               sudo chmod 777 /local/workspace/hailo_virtualenv/lib/python3.8/site-packages/hailo_tutorials/notebooks/DFC.ipynb
                           </div></li><li class="list__item" id="3533dd17_275"><p>컴파일 실행 </p><p id="3533dd17_276">도커 컨테이너 터미널에서 hailo tutorial을 실행하여, 컴파일 환경으로 진입합니다. (편의성을 위해 --ip 속성을 주어 ip로 접속 가능하도록 실행합니다)</p><div class="code-block" data-lang="bash"         >
                               hailo tutorial --ip 0.0.0.0
                           </div><p id="3533dd17_278">다음과 같은 실행 결과에서 빨간 박스안의 https 링크를 가상머신이 아닌 host PC에서도 웹 브라우저 주소창에 입력하면 jupyter 환경이 열립니다.</p><figure  id="3533dd17_279"><img alt="hailo_tutorial_img" src="images/Hailo_tutorial_Ip_CMD.png" class="article__bordered-element" title="hailo_tutorial_img"  width="1024" height="218"></figure><p id="3533dd17_280">노트북 환경이 표시되면 DFC.ipynb 파일을 선택하여 열고 세부 내용을 하나씩 수정합니다.</p><figure  id="3533dd17_281"><img alt="Run_DFC_notebook" src="images/Run_DFC_ipynb.png" class="article__bordered-element" title="Run_DFC_notebook"  width="1024" height="577"></figure></li><li class="list__item" id="3533dd17_282"><p>DFC.ipynb 수정 </p><ul class="list _ul" id="3533dd17_283"><li class="list__item" id="3533dd17_284"><p>Model Parsing </p><figure  id="3533dd17_285"><img alt="Parse_img" src="images/DFC_Parse.png" class="article__bordered-element" title="Parse_img"  width="1024" height="579"></figure><p id="3533dd17_286">- 주의사항 -</p><ol class="list _decimal" id="3533dd17_287" type="1"><li class="list__item" id="3533dd17_288"><p>workpath는 withus_dfc.zip 파일을 압축해제한 host-docker 공유폴더 입니다.</p></li><li class="list__item" id="3533dd17_289"><p>shape 이름과 정보는 Netron 프로그램을 이용하여 확인이 가능합니다.</p></li></ol></li><li class="list__item" id="3533dd17_290"><p>Calibration Dataset </p><figure  id="3533dd17_291"><img alt="Cal_dataset_img" src="images/DFC_image_preprocess.png" class="article__bordered-element" title="Cal_dataset_img"  width="1024" height="881"></figure><p id="3533dd17_292">- 주의사항 -</p><ol class="list _decimal" id="3533dd17_293" type="1"><li class="list__item" id="3533dd17_294"><p>yolov5 모델을 학습할 때 사용한 --img 변수의 값으로 <span class="control" id="3533dd17_295">output_height</span>/<span class="control" id="3533dd17_296">output_width</span>/<span class="control" id="3533dd17_297">resize_size</span>와 <span class="control" id="3533dd17_298">np.zeros</span> 사이즈를 입력합니다.</p></li><li class="list__item" id="3533dd17_299"><p>준비한 보정 데이터셋의 이미지 형식이 <span class="filepath" id="3533dd17_300">.png</span>인지 <span class="filepath" id="3533dd17_301">.jpg</span>인지 확인하고 수정합니다.</p></li></ol></li><li class="list__item" id="3533dd17_302"><p>Model Optimization </p><figure  id="3533dd17_303"><img alt="Optimize_img" src="images/DFC_Optimize.png" class="article__bordered-element" title="Optimize_img"  width="1024" height="866"></figure><p id="3533dd17_304">- 주의사항 -</p><ol class="list _decimal" id="3533dd17_305" type="1"><li class="list__item" id="3533dd17_306"><p>yolov5 nano 모델에 최적화된 model_script 입니다.</p></li><li class="list__item" id="3533dd17_307"><p>calibset_size는 1000개를 보정용 데이터셋 이므로 큰 데이터셋을 사용해도 무방하지만 개선점이 크지 않을 수 있습니다.</p></li></ol></li><li class="list__item" id="3533dd17_308"><p>Model Compilation </p><figure  id="3533dd17_309"><img alt="Compile_img" src="images/DFC_Compile.png" class="article__bordered-element" title="Compile_img"  width="1024" height="225"></figure><p id="3533dd17_310">- 주의사항 -</p><ol class="list _decimal" id="3533dd17_311" type="1"><li class="list__item" id="3533dd17_312"><p>yolov5 nano 모델에 최적화된 model_script 입니다.</p></li><li class="list__item" id="3533dd17_313"><p>calibset_size는 1000개를 보정용 데이터셋 이므로 큰 데이터셋을 사용해도 무방하지만 개선점이 크지 않을 수 있습니다.</p></li></ol></li><li class="list__item" id="3533dd17_314"><p>Model Inference Test </p><figure  id="3533dd17_315"><img alt="Compile_img" src="images/DFC_Inference.png" class="article__bordered-element" title="Compile_img"  width="1024" height="1027"></figure><p id="3533dd17_316">- 주의사항 -</p><ol class="list _decimal" id="3533dd17_317" type="1"><li class="list__item" id="3533dd17_318"><p>calib_dataset[:16,...] 해당코드로 추론 결과를 확인해볼 이미지범위를 수정할 수 있습니다. 현재는 0~16번째의 이미지를 추론하여 결과를 보여줍니다.</p></li></ol></li></ul></li></ol></section></div><div class="tabs__content" data-gtm="tab" id="3533dd17_319" data-title="실행"><p id="3533dd17_320">아래 사용법을 가이드합니다.</p><ul class="list _ul" id="3533dd17_321"><li class="list__item" id="3533dd17_322"><p>CPP 및 OpenCV 라이브러리를 이용 빌드 및 실행</p></li></ul><br><br><div class="tabs" id="3533dd17_325"><div class="tabs__content" data-gtm="tab" id="3533dd17_326" data-title="CPP기반"><section class="procedure-steps"   ><h3 id="Getting Started(Running,CPP) - Prepare Source Code" data-toc="Getting Started(Running,CPP) - Prepare Source Code">소스코드 준비</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_327"><p>압축해제 </p><p id="3533dd17_328">&ldquo;hailo_yolov5_cpp_example.zip&rdquo; 파일의 압축을 해제합니다.</p><div class="code-block" data-lang="bash"         >
                                       unzip hailo_yolov5_cpp_example.zip
                                   </div></li></ol></section><section class="procedure-steps"   ><h3 id="Getting Started(Running,CPP) - Build" data-toc="Getting Started(Running,CPP) - Build">빌드</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_330"><p>빌드 </p><p id="3533dd17_331">&quot;hailo_yolov5_cpp_example&ldquo;폴더로 이동하여 빌드 스크립트를 통해 프로젝트를 빌드합니다.</p><div class="code-block" data-lang="bash"         >
                                       cd hailo_yolov5_cpp_example
                                       ./build.sh
                                   </div></li><li class="list__item" id="3533dd17_333"><p>빌드결과 확인 </p><p id="3533dd17_334">빌드 완료된 실행 파일은 &ldquo;[프로젝트경로]/build/aarch64/customer_demo&rdquo; 파일입니다.</p><div class="code-block" data-lang="bash"         >
                                       cd hailo_yolov5_cpp_example
                                       ./build.sh
                                   </div></li></ol></section><section class="procedure-steps"   ><h3 id="Getting Started(Running,CPP) - Run" data-toc="Getting Started(Running,CPP) - Run">실행</h3 ><ol class="list _decimal"><li class="list__item" id="3533dd17_336"><p>ZAiV 준비 </p><ul class="list _ul" id="3533dd17_337"><li class="list__item" id="3533dd17_338"><p>실행 시 사용할 ZAiV PCI Board에 Raspberry PI CM4 모듈을 결합합니다.</p></li></ul></li><li class="list__item" id="3533dd17_339"><p>주변장치 준비 </p><ul class="list _ul" id="3533dd17_340"><li class="list__item" id="3533dd17_341"><p>키보드/마우스(통합형), 카메라 및 micro HDMI포트를 이용해 각 주변장치를 연결합니다.</p></li></ul></li><li class="list__item" id="3533dd17_342"><p>실행 </p><p id="3533dd17_343">USB Type-C 5V/3A 어댑터를 연결해 전원을 인가합니다.</p><p id="3533dd17_344">부팅 후 실행 시 ZAiV Ethernet interface의 이름 및 연결된 카메라 번호가 필요합니다. 카메라 번호를 확인 후 아래 명령어를 통해 컴파일된 프로그램을 실행합니다.</p><div class="code-block" data-lang="bash"         >
                                       ./build/aarch64/customer_demo [카메라 번호]
                                       # ex) ./build/aarch64/customer_demo 0
                                       #    ./build/aarch64/customer_demo 3
                                       #
                                       # * 카메라 번호
                                       # 카메라 번호는 /dev/video 번호를 가져오면 되며 v4l2-ctl -&ndash;list-devices 명령어를 사용하여 확인할 수 있습니다.
                                       ```
                                   </div></li></ol></section></div></div></div></div></div><div class="tabs__content" data-gtm="tab" id="3533dd17_346" data-title="다운로드"><section class="procedure-steps"   ><h3 id="Download - Training Env" data-toc="Download - Training Env">학습환경</h3 ><ul class="list" ><li class="list__item" id="3533dd17_347"><p>PC </p><div class="table-wrapper"><table class="wide" id="3533dd17_348"><thead><tr class="ijRowHead" id="3533dd17_349"><th id="3533dd17_350"><p>항목</p></th><th id="3533dd17_351"><p>사양</p></th><th id="3533dd17_352"><p>비고</p></th></tr></thead><tbody><tr id="3533dd17_353"><td id="3533dd17_354"><p>CPU</p></td><td id="3533dd17_355"><p>Intel or AMD</p></td><td id="3533dd17_356"><p>64bit, avx 지원 CPU</p></td></tr><tr id="3533dd17_357"><td id="3533dd17_358"><p>Memory</p></td><td id="3533dd17_359"><p>16Gb 이상</p></td><td id="3533dd17_360"><p>32 GB 이상 권장, 16GB 미만에서는 Docker Image가 동작하지 않습니다. 그리고 학습 규모에 따라 변동됩니다.</p></td></tr><tr id="3533dd17_361"><td id="3533dd17_362"><p>Graphic Card</p></td><td id="3533dd17_363"><p>Nvidia&rsquo;s Pascal/Turing/Ampere GPU architecture (such as Titan X Pascal, GTX 1080 Ti, RTX 2080 Ti, or RTX A4000)</p></td><td id="3533dd17_364"><p>GPU driver version 470, CUDA 11.2, CUDNN 8.1</p></td></tr><tr id="3533dd17_365"><td id="3533dd17_366"><p>Storage</p></td><td id="3533dd17_367"><p>512Gb 이상</p></td><td id="3533dd17_368"><p>학습 규모에 따라 변동</p></td></tr><tr id="3533dd17_369"><td id="3533dd17_370"><p>Monitor</p></td><td id="3533dd17_371"><p>그래픽카드에 따른 인터페이스의 모니터</p></td><td id="3533dd17_372"></td></tr><tr id="3533dd17_373"><td id="3533dd17_374"><p>Peripherals</p></td><td id="3533dd17_375"><p>키보드,마우스, Cables</p></td><td id="3533dd17_376"><p>기타 필요한 장치들</p></td></tr></tbody></table></div></li><li class="list__item" id="3533dd17_377"><p>OS/SW </p><div class="table-wrapper"><table class="wide" id="3533dd17_378"><thead><tr class="ijRowHead" id="3533dd17_379"><th id="3533dd17_380"><p>항목</p></th><th id="3533dd17_381"><p>파일</p></th><th id="3533dd17_382"><p>다운로드</p></th></tr></thead><tbody><tr id="3533dd17_383"><td id="3533dd17_384"><p>OS</p></td><td id="3533dd17_385"><p>Ubuntu 20.04</p></td><td id="3533dd17_386"><p>https://releases.ubuntu.com/focal/</p></td></tr><tr id="3533dd17_387"><td id="3533dd17_388"><p>Hailo sw suite docker Image</p></td><td id="3533dd17_389"><p>Hailo sw suite docker.zip</p></td><td id="3533dd17_390"><p><a href="https://drive.google.com/file/d/180Tw4spRo7D81ommwohHnWZhCeiQaDRj/view?usp=drive_link" id="3533dd17_391"   data-external="true" rel="noopener noreferrer" >Download</a></p></td></tr></tbody></table></div></li></ul></section><section class="procedure-steps"   ><h3 id="Download - Running Env" data-toc="Download - Running Env">실행환경</h3 ><ul class="list" ><li class="list__item" id="3533dd17_392"><p>HW </p><div class="table-wrapper"><table class="wide" id="3533dd17_393"><thead><tr class="ijRowHead" id="3533dd17_394"><th id="3533dd17_395"><p>항목</p></th><th id="3533dd17_396"><p>사양</p></th><th id="3533dd17_397"><p>비고</p></th></tr></thead><tbody><tr id="3533dd17_398"><td id="3533dd17_399"><p>ZAiV Board</p></td><td id="3533dd17_400"><p>ZAiV-AHR Board</p></td><td id="3533dd17_401"></td></tr><tr id="3533dd17_402"><td id="3533dd17_403"><p>Host PC or Board</p></td><td id="3533dd17_404"><p>X86/AMD64 기반 PC or Raspberry Pi4 B+ or Jetson nano</p></td><td id="3533dd17_405"><p>지원 가능 장치 중 1개 준비</p></td></tr><tr id="3533dd17_406"><td id="3533dd17_407"><p>Micro SD Card</p></td><td id="3533dd17_408"><p>32GB 이상</p></td><td id="3533dd17_409"><p>Raspberry pi나 Jetson Nano의 경우 필요</p></td></tr><tr id="3533dd17_410"><td id="3533dd17_411"><p>Camera</p></td><td id="3533dd17_412"><p>USB Webcam</p></td><td id="3533dd17_413"><p>대부분의 USB Webcam은 지원합니다.</p></td></tr><tr id="3533dd17_414"><td id="3533dd17_415"><p>Monitor</p></td><td id="3533dd17_416"><p>지원장치에 따른 인터페이스 모니터</p></td><td id="3533dd17_417"></td></tr><tr id="3533dd17_418"><td id="3533dd17_419"><p>Peripherals</p></td><td id="3533dd17_420"><p>키보드/마우스</p></td><td id="3533dd17_421"></td></tr><tr id="3533dd17_422"><td id="3533dd17_423"><p>Monitor Cable</p></td><td id="3533dd17_424"><p>지원장치의 사양에 따른 인터페이스 케이블</p></td><td id="3533dd17_425"><p>Micro HDMI to HDMI Cable (라즈베리파이4의 경우 필요.), HDMI Cable (PC 및 Jetson nano의 경우 필요.)</p></td></tr><tr id="3533dd17_426"><td id="3533dd17_427"><p>Ethernet Cable</p></td><td id="3533dd17_428"><p>Cat5e</p></td><td id="3533dd17_429"><p>2EA</p></td></tr><tr id="3533dd17_430"><td id="3533dd17_431"><p>Serial Cable</p></td><td id="3533dd17_432"><p>USB A to Micro 5Pin</p></td><td id="3533dd17_433"><p>ZAiV-AHP의 경우 USB to Serial로 사용</p></td></tr></tbody></table></div></li><li class="list__item" id="3533dd17_434"><p>SW - 공통 </p><div class="table-wrapper"><table class="wide" id="3533dd17_435"><thead><tr class="ijRowHead" id="3533dd17_436"><th id="3533dd17_437"><p>항목</p></th><th id="3533dd17_438"><p>파일</p></th><th id="3533dd17_439"><p>다운로드</p></th></tr></thead><tbody><tr id="3533dd17_440"><td id="3533dd17_441"><p>GCC9 for pi (Raspberry Pi의 경우 필요)</p></td><td id="3533dd17_442"><p>native-gcc-9.4.0-pi_64.tar.gz</p></td><td id="3533dd17_443"><p>todo</p></td></tr><tr id="3533dd17_444"><td id="3533dd17_445"><p>Yolo Cpp &amp; OpenCV Example</p></td><td id="3533dd17_446"><p>hailo_yolov5_cpp_example.zip</p></td><td id="3533dd17_447"></td></tr><tr id="3533dd17_448"><td id="3533dd17_449"><p>Tappas (AI 구동 예제)</p></td><td id="3533dd17_450"><p>tappas_3.23.0_linux_installer.zip</p></td><td id="3533dd17_451"><p><a href="https://drive.google.com/file/d/1nzXwajy-jKksXdjb0Y58PNjCoZ-H3G7U/view?usp=sharing" id="3533dd17_452"   data-external="true" rel="noopener noreferrer" >Download</a></p></td></tr></tbody></table></div></li><li class="list__item" id="3533dd17_453"><p>SW - 신규 OS 설치 시 </p><div class="table-wrapper"><table class="wide" id="3533dd17_454"><thead><tr class="ijRowHead" id="3533dd17_455"><th id="3533dd17_456"><p>항목</p></th><th id="3533dd17_457"><p>파일</p></th><th id="3533dd17_458"><p>다운로드</p></th></tr></thead><tbody><tr id="3533dd17_459"><td id="3533dd17_460"><p>HailoRT ( Hailo arm64 실행환경 )</p></td><td id="3533dd17_461"><p>hailort_4.12.0_arm64.deb</p></td><td id="3533dd17_462"><p><a href="https://drive.google.com/file/d/1cky_3syTX7KA0JrOJecIu9vMbxrrFkAH/view?usp=sharing" id="3533dd17_463"   data-external="true" rel="noopener noreferrer" >Download</a></p></td></tr><tr id="3533dd17_464"><td id="3533dd17_465"><p>HailoRT ( Hailo amd64 실행환경 )</p></td><td id="3533dd17_466"><p>hailort_4.13.0_arm64.deb</p></td><td id="3533dd17_467"><p>todo</p></td></tr><tr id="3533dd17_468"><td id="3533dd17_469"><p>HailoRT PCI Driver (Hailo PCI Driver, 필요 시 설치)</p></td><td id="3533dd17_470"><p>hailort-pcie-driver_4.13.0_all.deb</p></td><td id="3533dd17_471"><p><a href="https://drive.google.com/file/d/1DSHvLaZrSJI29Myy4TdyGELlJe21JPxv/view?usp=sharing" id="3533dd17_472"   data-external="true" rel="noopener noreferrer" >Download</a></p></td></tr><tr id="3533dd17_473"><td id="3533dd17_474"><p>Raspberry PI Imager</p></td><td id="3533dd17_475"><p>imager_latest.xxx</p></td><td id="3533dd17_476"><p><a href="https://downloads.raspberrypi.org/imager/imager_latest.exe" id="3533dd17_477"   data-external="true" rel="noopener noreferrer" >Windows</a>, <a href="https://downloads.raspberrypi.org/imager/imager_latest.dmg" id="3533dd17_478"   data-external="true" rel="noopener noreferrer" >MacOS</a>, <a href="https://downloads.raspberrypi.org/imager/imager_latest_amd64.deb" id="3533dd17_479"   data-external="true" rel="noopener noreferrer" >Ubuntu (amd64)</a></p></td></tr><tr id="3533dd17_480"><td id="3533dd17_481"><p>RaspbianOS Buster OS</p></td><td id="3533dd17_482"><p>2021-05-07-raspios-buster-arm64.zip</p></td><td id="3533dd17_483"><p><a href="http://downloads.raspberrypi.org/raspios_arm64/images/raspios_arm64-2021-05-28/" id="3533dd17_484"   data-external="true" rel="noopener noreferrer" >Download</a></p></td></tr></tbody></table></div></li><li class="list__item" id="3533dd17_485"><p>SW - 사전 설치완료 OS 설치 시 </p><p id="3533dd17_486">Withus 문의(withus@with-us.kr)</p><div class="table-wrapper"><table class="wide" id="3533dd17_487"><thead><tr class="ijRowHead" id="3533dd17_488"><th id="3533dd17_489"><p>항목</p></th><th id="3533dd17_490"><p>파일</p></th><th id="3533dd17_491"><p>다운로드</p></th></tr></thead><tbody><tr id="3533dd17_492"><td id="3533dd17_493"><p>RaspbianOS (Bullseye)</p></td><td id="3533dd17_494"><p>RP4_HailoRT_YoloCpp.img</p></td><td id="3533dd17_495"><p><a href="https://drive.google.com/file/d/1Bp2yJZCcOdX4w7GEIRZmLzbYaZWaoHtg/view?usp=drive_link" id="3533dd17_496"   data-external="true" rel="noopener noreferrer" >Image</a></p></td></tr><tr id="3533dd17_497"><td id="3533dd17_498"><p>Raspberry PI Imager</p></td><td id="3533dd17_499"><p>imager_latest.xxx</p></td><td id="3533dd17_500"><p><a href="https://downloads.raspberrypi.org/imager/imager_latest.exe" id="3533dd17_501"   data-external="true" rel="noopener noreferrer" >Windows</a>, <a href="https://downloads.raspberrypi.org/imager/imager_latest.dmg" id="3533dd17_502"   data-external="true" rel="noopener noreferrer" >MacOS</a>, <a href="https://downloads.raspberrypi.org/imager/imager_latest_amd64.deb" id="3533dd17_503"   data-external="true" rel="noopener noreferrer" >Ubuntu(amd64)</a></p></td></tr><tr id="3533dd17_504"><td id="3533dd17_505"><p>Jetson Nano</p></td><td id="3533dd17_506"><p>jetson_nano_4gb_ros_opencv_set_20211015.img</p></td><td id="3533dd17_507"><p>문의</p></td></tr></tbody></table></div></li></ul></section></div><div class="tabs__content" data-gtm="tab" id="3533dd17_508" data-title="FAQs"><section class="procedure-steps"   > <div class="collapse" ><div class="collapse__title"  ><h3 id="FAQs - Buy" data-toc="FAQs - Buy">구매 문의</h3 ></div><div class="collapse__content" ><ul class="list" ><li class="list__item" id="3533dd17_509"><p>구매는 어디서 하나요? </p><p id="3533dd17_510">구매는 네이버 스마트 스토어 및 Withus 영업팀을 통해 하실 수 있습니다.</p><ul class="list _ul" id="3533dd17_511"><li class="list__item" id="3533dd17_512"><p>네이버 스마트 스토어 (23년 11월 오픈예정)</p></li><li class="list__item" id="3533dd17_513"><p>Withus 영업 </p><ul class="list _ul" id="3533dd17_514"><li class="list__item" id="3533dd17_515"><p>TEL : +82-031-889-0100</p></li><li class="list__item" id="3533dd17_516"><p>Sales : <a href="mailto:withus@with-us.kr" id="3533dd17_517"   data-external="true" >withus@with-us.kr</a></p></li></ul></li></ul></li></ul></div ></div></section><section class="procedure-steps"   > <div class="collapse" ><div class="collapse__title"  ><h3 id="FAQs - Tech" data-toc="FAQs - Tech">기술 지원</h3 ></div><div class="collapse__content" ><ul class="list" ><li class="list__item" id="3533dd17_518"><p>관련 문의는 어떻게 하나요? </p><p id="3533dd17_519">Github issue 및 메일을 통해서 지원받으실 수 있습니다.</p><ul class="list _ul" id="3533dd17_520"><li class="list__item" id="3533dd17_521"><p><a href="https://github.com/WithUs-AI" id="3533dd17_522"   data-external="true" rel="noopener noreferrer" >Github</a></p></li><li class="list__item" id="3533dd17_523"><p><a href="mailto:with.ai@with-us.kr" id="3533dd17_524"   data-external="true" >with.ai@with-us.kr</a></p></li></ul></li></ul></div ></div></section></div></div><div class="last-modified"> Last modified: 02 1월 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom">  <a class="navigation-links__prev" href="zaiv-ahr.html">ZAIV-AHR</a>   </div></article><div id="disqus_thread"></div></div></section></main></div>  <script src="https://resources.jetbrains.com/writerside/apidoc/6.6.6-b205/app.js"></script></body></html>